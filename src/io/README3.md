

# 01. 파일 포맷(이진) 파싱 라이브러리 요약

복합 문서(PDF, DOCX 등)에서 텍스트를 추출하려면 일반적인 파일 읽기 방식으로는 어렵고, **전용 파싱 라이브러리**가 필요합니다. 주요 라이브러리들은 다음과 같습니다.

---

### 1. Apache Tika (아파치 티카)

* **특징:** 1,000가지 이상의 다양한 파일 포맷(DOCX, PDF, XLSX, 이미지, 오디오, 비디오 등)에서 **텍스트와 메타데이터를 통합적으로 추출**하는 프레임워크입니다. 여러 전문 파서들을 내부적으로 통합하여 제공합니다.
* **장점:** 범용성이 뛰어나 대부분의 문서 추출 작업에 활용 가능하며, 사용법이 비교적 간단합니다.
* **단점:** 모든 포맷을 완벽하게 지원하진 않으며, 복잡한 서식의 경우 추출 정확도가 떨어질 수 있습니다.

### 2. Apache POI (아파치 POI)

* **특징:** Microsoft Office 포맷(Word: `.doc`, `.docx`, Excel: `.xls`, `.xlsx`, PowerPoint: `.ppt`, `.pptx`)을 읽고 쓰는 Java API입니다. Tika도 Office 문서 처리에 POI를 사용합니다.
* **장점:** MS Office 문서에 특화되어 있어 매우 **정확하고 상세한 제어**가 가능합니다.
* **단점:** PDF 등 다른 포맷은 지원하지 않습니다.

### 3. Apache PDFBox (아파치 PDF박스)

* **특징:** **PDF 문서 전용**으로, 읽기, 쓰기, 텍스트/이미지 추출, 페이지 분할/병합 등 다양한 PDF 관련 작업을 수행하는 Java 라이브러리입니다.
* **장점:** PDF에 특화되어 높은 정확도와 풍부한 기능을 제공합니다.
* **단점:** 다른 포맷은 지원하지 않습니다.

### 4. iText / OpenPDF (아이텍스트 / 오픈PDF)

* **특징:** PDF 문서를 생성하고 조작하는 데 주로 사용되는 강력한 라이브러리입니다. 텍스트 추출 기능도 포함되어 있습니다. (iText는 라이선스 주의, OpenPDF는 iText의 오픈소스 포크)
* **장점:** PDF 조작 및 생성 기능이 매우 강력합니다.
* **단점:** 라이선스 제약(iText), PDF 외 다른 포맷은 지원하지 않습니다.

### 5. JSaPar (자사파)

* **특징:** 주로 **구분자 기반(CSV) 및 고정 길이(Fixed-width) 평문 파일**을 파싱하고 생성하는 데 특화된 라이브러리입니다.
* **장점:** 구조화된 평문 데이터 파일 처리에 강합니다.
* **단점:** 복합 문서나 이진 파일은 처리하지 않습니다.

---

### 어떤 라이브러리를 선택할까?

* **다양한 파일 포맷 통합 처리:** **Apache Tika**를 먼저 고려하는 것이 가장 효율적입니다.
* **MS Office 문서에 집중:** **Apache POI**가 최적의 선택입니다.
* **PDF 문서에 집중:** **Apache PDFBox**가 강력한 기능을 제공합니다.
* **구조화된 평문 데이터:** **JSaPar**가 특화되어 있습니다.

개인정보 탐지 솔루션에 **Apache Tika**를 적용하면, 현재 텍스트 파일만 처리 가능한 한계를 넘어 PDF, Word 등 다양한 문서 파일에서도 개인정보를 탐지하도록 기능을 확장할 수 있습니다.


---

# 02. OCR (광학 문자 인식) 기술 요약

이미지 파일(JPG, PNG 등)이나 스캔된 PDF에서 텍스트를 추출하려면 **OCR(Optical Character Recognition)** 기술이 필수적입니다. 일반적인 텍스트 파싱 라이브러리는 그림 속 글자를 인식하지 못합니다.

OCR은 이미지 속 텍스트를 기계가 읽을 수 있는 디지털 텍스트로 변환합니다. 이 과정은 **이미지 전처리, 레이아웃 분석, 문자 세분화, 문자 인식, 후처리** 단계를 거칩니다. 최근 딥러닝 발달로 OCR 정확도가 크게 향상되었습니다.

---

### 자바에서 OCR 구현 방법

자바 애플리케이션에 OCR 기능을 통합하는 주요 방법은 다음과 같습니다.

1.  **Tesseract OCR (Tess4J 이용):**
    * Google이 개발한 **오픈소스 OCR 엔진**인 Tesseract를 **Tess4J** 라이브러리를 통해 자바에서 사용합니다.
    * **장점:** 무료이며 로컬에서 직접 OCR을 수행합니다.
    * **단점:** 엔진 설치와 설정이 필요하고, 클라우드 서비스보다 인식률이 낮을 수 있습니다(특히 한글).

2.  **클라우드 기반 OCR 서비스 (API):**
    * **Google Cloud Vision AI, AWS Rekognition, Naver CLOVA OCR, Kakao VISION API** 등이 있습니다.
    * **장점:** 매우 높은 인식률과 다양한 언어를 지원하며, API 호출만으로 간편하게 사용합니다. 확장성과 유지보수가 용이합니다.
    * **단점:** 유료 서비스이고 인터넷 연결이 필수입니다.

3.  **상용 OCR SDK (예: LEADTOOLS, Aspose.OCR):**
    * 매우 높은 정확도와 고급 기능을 제공하는 유료 SDK입니다.
    * **장점:** 안정성과 뛰어난 인식률, 풍부한 기능을 제공합니다.
    * **단점:** 라이선스 비용이 높습니다.

---

### 개인정보 탐지 솔루션에 OCR 적용

현재 개인정보 탐지 솔루션에 이미지 파일 처리 기능을 추가하려면:

1.  사용자가 이미지 파일을 입력하면, **OCR 라이브러리/서비스를 통해 해당 이미지에서 텍스트를 추출**합니다.
2.  OCR로 얻은 **텍스트를 기존 솔루션의 `fileContent` 변수에 전달**하여 정규표현식 탐지 로직을 수행하도록 합니다.

결론적으로, 이미지 파일 내 텍스트를 탐지하기 위해서는 **OCR이 반드시 선행되어야 할 전처리 단계**입니다.